<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Protected Page</title>
    <script src="/js/frame-buster.js"></script>
  </head>
  <body>
    <h1>This page is protected from clickjacking</h1>
    <button id="secure-btn" onclick="alert('Clicked securely!')">
      Click Me
    </button>

    <script>
      const button = document.getElementById("secure-btn");

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.intersectionRatio < 1) {
              alert(
                "⚠️ Warning: This button might be hidden or overlapped. Possible clickjacking attempt!"
              );
            }
          });
        },
        {
          threshold: 1.0, // means fully visible
        }
      );

      observer.observe(button);
    </script>
  </body>
</html>
